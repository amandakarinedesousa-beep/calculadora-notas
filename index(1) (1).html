<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>App: Cálculo de Notas</title>
  <style>
    :root {
      --primary: #2563eb;
      --bg: #f5f5f5;
      --card: #ffffff;
      --danger: #b91c1c;
      --success: #15803d;
    }
    body{
      font-family: Inter, system-ui, Arial;
      margin:0;padding:0;
      background:var(--bg);
      color:#111;
    }
    header{
      background: var(--primary);
      color: #fff;
      padding: 20px;
      text-align:center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    h1{margin:0;font-size:26px;font-weight:600}
    main{max-width:900px;margin:24px auto;padding:18px}
    .card{
      background:var(--card);
      border-radius:12px;
      padding:20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      margin-top:20px;
    }
    label{display:block;margin-top:16px;font-weight:600}
    input[type=number]{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #ccc;font-size:16px}
    button{
      padding:12px 18px;
      border:none;
      border-radius:10px;
      font-size:16px;
      cursor:pointer;
      font-weight:600;
    }
    .btn-primary{background:var(--primary);color:#fff;margin-right:10px}
    .btn-clear{background:#e3e3e3;color:#111}
    .badge{display:inline-block;padding:6px 12px;border-radius:8px;background:#eee;font-weight:600}
    .ok{color:var(--success)}
    .ko{color:var(--danger)}
    @media (max-width:600px){
      button{width:100%;margin-top:10px}
    }
  </style>
</head>
<body>
<header>
  <h1>Calculadora de Notas</h1>
  <p>Simule médias, necessidade de AVF e resultado final</p>
</header>

<main>
  <div class="card">
    <h2>Preencha as notas</h2>
    <label>AV1 (peso 1):
      <input id="av1" type="number" min="0" max="10" step="0.1" />
    </label>

    <label>AV2 (peso 2):
      <input id="av2" type="number" min="0" max="10" step="0.1" />
    </label>

    <div style="margin-top:20px;display:flex;flex-wrap:wrap;gap:10px">
      <button class="btn-primary" id="calcBtn">Calcular</button>
      <button class="btn-clear" id="clearBtn">Limpar Campos</button>
    </div>
  </div>

  <div id="output" class="card" style="display:none"></div>
</main>

<script>
function round(v){return Math.round(v*100)/100}
function classify(mp){
  if(mp >= 7) return {status:'Aprovado', cls:'ok'};
  if(mp >= 4 && mp < 7) return {status:'Em AVF', cls:''};
  return {status:'Reprovado (sem AVF)', cls:'ko'};
}

function compute(){
  const av1 = parseFloat(document.getElementById('av1').value) || 0;
  const av2 = parseFloat(document.getElementById('av2').value) || 0;
  const mp = (av1 + av2*2) / 3;
  const cls = classify(mp);

  let requiredAvf = round(10 - mp);
  let msg = '';
  if(requiredAvf < 5){ msg = ' (ajustado para mínimo 5)'; requiredAvf = 5 }
  if(requiredAvf > 10){ msg = ' (impossível)' }

  const out = [];
  out.push('<h2>Resultado</h2>');
  out.push('<p><strong>Média parcial:</strong> ' + round(mp) + '</p>');
  out.push('<p>Situação: <span class="badge '+(cls.cls||'')+'">' + cls.status + '</span></p>');

  if(cls.status === 'Em AVF') out.push('<p><strong>AVF necessária:</strong> ' + requiredAvf + msg + '</p>');
  if(cls.status === 'Aprovado') out.push('<p class="ok">Aprovado direto (≥ 7)</p>');
  if(cls.status === 'Reprovado (sem AVF)') out.push('<p class="ko">Reprovado sem direito à AVF (<4)</p>');

  const box = document.getElementById('output');
  box.style.display = 'block';
  box.innerHTML = out.join('');
}

document.getElementById('calcBtn').addEventListener('click', compute);

document.getElementById('clearBtn').addEventListener('click', () => {
  document.getElementById('av1').value = '';
  document.getElementById('av2').value = '';
  document.getElementById('output').style.display = 'none';
});
</script>
</body>
</html>
